import{r as l,l as y,j as e,c as M}from"./vendor-C0yZRDJS.js";import{r as E}from"./index.json-CUWIwYSO.js";import{c as j}from"./everything.json-BGTX2m8U.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();function C(){const c=l.useMemo(()=>y.Index.load(E),[]),[n,o]=l.useState(""),a=l.useMemo(()=>{const s=new Map;return j.forEach(i=>{s.set(i.detail_url,i)}),s},[]),t=l.useMemo(()=>{if(!n)return null;try{return c.search(n)}catch{return[]}},[c,n]),r=l.useMemo(()=>t?t.map(s=>{const i=s.ref;return a.get(i)}):j,[t,a]),d=l.useMemo(()=>{const s=new Map;return t&&t.forEach(i=>{const u=i.ref,m=i.matchData.metadata;Object.entries(m).forEach(([h,p])=>{Object.entries(p).forEach(([g,{position:b}])=>{b.forEach(([N,_])=>{const x=s.get(u)??[];x.push({ref:u,term:h,field:g,pos:[N,_]}),s.set(u,x)})})})}),s},[t]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-1",children:[e.jsx("div",{className:"mb-3 w-full text-center p-3",children:e.jsx("input",{onChange:s=>o(s.target.value),className:"border w-full max-w-[600px] h-8 text-lg px-1"})}),e.jsxs("div",{className:"space-y-2",children:[r.length===0&&e.jsx(e.Fragment,{children:"No results found."}),r.map(s=>e.jsx(v,{company:s,matches:d.get(s.detail_url)??[]},s.detail_url))]})]})})}function f(c,n,o){return l.useMemo(()=>{if(!o)return e.jsx(e.Fragment,{});const a=c.filter(t=>t.field===n);if(a){let t=0;const r=a.map(d=>{const{pos:s}=d,[i,u]=s,m=i+u,h=o.substring(t,i),p=o.substring(i,m);return t=m,e.jsxs("span",{children:[h,e.jsx("span",{className:"bg-amber-300 rounded",children:p})]},`${s}`)});return r.push(e.jsx("span",{children:o.substring(t)},"end")),r}return e.jsx("span",{children:o})},[c,o,n])}function v({company:c,matches:n}){const o=f(n,"name",c.name),a=f(n,"description",c.details.description),t=f(n,"products_manufactured",c.details.products_manufactured),r=f(n,"naics_code_primary",c.details["naics_code_(primary)"]),d=f(n,"naics_code_secondary",c.details["naics_code_(secondary)"]);return e.jsxs("div",{className:"p-1 border rounded w-fit",children:[e.jsx("a",{href:c.detail_url,target:"_blank",className:"text-lg underline text-blue-600",children:o}),e.jsx("div",{children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"NAICS Code (primary): "}),e.jsx("td",{children:r})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"NAICS Code (secondary): "}),e.jsx("td",{children:d})]})]})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Description"}),a]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Products Manufactured"}),t]})]},c.detail_url)}M.createRoot(document.getElementById("root")).render(e.jsx(C,{}));
